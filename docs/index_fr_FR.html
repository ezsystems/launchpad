<!DOCTYPE html>
<html class="no-js" lang="fr_FR">
<head>
    <title>eZ Launchpad - Project Page and Documentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://www.ezplatform.com/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700|Open+Sans:400,600">

    <link rel="stylesheet" type="text/css" href="https://www.ezplatform.com/css/9c79026.css">
    <link rel="stylesheet" type="text/css" href="css/ezlaunchpad.css">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- Google Analytics -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-303624-15', 'auto');
        ga('send', 'pageview');

    </script>

    <link rel="alternate" hreflang="en_US" href="index.html"/>
    <link rel="alternate" hreflang="fr_FR" href="index_fr_FR.html"/><link rel="alternate" hreflang="no_NO" href="index_no_NO.html"/>
</head>
<body>
<main class="white-background">
    <header>
        <nav class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
                <span class="sr-only">Basculer la navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://ezsystems.github.io/launchpad">
                <img src="https://www.ezplatform.com/assets/images/ez-logo.svg">
            </a>
        </div>

        <div class="collapse navbar-collapse " id="navbar">
            <ul class="nav navbar-nav">
                <li><a href="#installation">Installation</a></li>
                <li><a href="#usage">Usage</a></li>
                <li><a href="#commands">Commandes</a></li>
                <li><a href="#deploy">Déploiement</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Plus
                        <span class="caret"></span></a>
                    <ul class="dropdown-menu ezlp-submenu">
                        <li><a href="#stack">Stack</a></li>
                        <li><a href="#d4m">Mac OS X optimisations avec D4M</a></li>
                        <li><a href="#home">Configurations globales</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-language" aria-hidden="true"></i>
                        <span class="caret"></span></a>
                    <ul class="dropdown-menu ezlp-submenu">
                        <li><a href="index.html">en</a></li>
                                                    <li><a href="index_fr_FR.html">fr</a></li>
                                                    <li><a href="index_no_NO.html">no</a></li>
                                            </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="https://www.ezplatform.com" target="_blank">eZ Platform</a></li>
                <li><a href="https://www.ezplatform.com/Blog">eZ Blog</a></li>
                <li><a href="//ez-community-on-slack.herokuapp.com" target="_blank"> Slack
                        <i class="fa fa-slack" aria-hidden="true"></i></a></li>
                <li><a href="//github.com/ezsystems/launchpad" target="_blank">Github
                        <i class="fa fa-github" aria-hidden="true"></i></a></li>
            </ul>
        </div>
    </div>
</nav>
    </header>

    <div class="container">
            <h1><i class="fa fa-rocket fa-2x" aria-hidden="true"></i>eZ Launchpad</h1>
    <p>Un outils qui va vous aider à construire un projet <a href="http://ezplatform.com" target="_blank">eZ Platform</a> avec <a href="https://www.docker.com/" target="_blank">Docker</a> en moins de 5 minutes.</p>
    <div class="alert alert-success" role="alert">
        <p><i class="fa fa-code" aria-hidden="true"></i> Vous aurez une <strong>stack Docker complète</strong> avec le code source sur l'hôte <strong>prêt à développer</strong> directement !
</p>
    </div>

    <h2 id="screencast"><i class="fa fa-play" aria-hidden="true"></i> Demonstration</h2>
    <div>
        <p>Voici une démonstration de l'utilisation de l'<a href="#initstack">initialization</a> d'un projet en ne partant de rien. Cela va installer tout la stack pour vous, et vous permettre de code, commit et pusher!
</p>
        <center>
            <iframe width="800" height="450" src="https://www.youtube.com/embed/N_wd-yAlKmA" frameborder="0" allowfullscreen></iframe>
        </center>
    </div>


    <h2 id="installation"><i class="fa fa-magic" aria-hidden="true"></i> Installation</h2>
    <div>
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#installioncurl" aria-controls="installioncurl" role="tab" data-toggle="tab">curl</a>
            </li>
            <li role="presentation">
                <a href="#installionwget" aria-controls="installionwget" role="tab" data-toggle="tab">wget</a>
            </li>
        </ul>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="installioncurl">
                <br/>
                <p>Si vous avez <strong>curl</strong> d'installé:</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>curl -LSs https://ezsystems.github.io/launchpad/install_curl.bash | bash</code></pre>
    </div>

            </div>
            <div role="tabpanel" class="tab-pane" id="installionwget">
                <br/>
                <p>Si vous avez <strong>wget</strong> d'installé:</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>wget -O - &quot;https://ezsystems.github.io/launchpad/install_wget.bash&quot; | bash</code></pre>
    </div>

            </div>
        </div>
    </div>
    <h2 id="usage"><i class="fa fa-keyboard-o" aria-hidden="true"></i> Utilisation</h2>
    <div>
        <p>Quand vous avez installé eZ Launchpad (<em>~/ez</em>), vous pouvez profiter des fonctionnalités.</p>
        <p>eZ Launchpad fourni 2 fonctionnalités principales:</p>
        <ul>
            <li><strong>Initialisation</strong> d'un tout nouveau projet sur Docker</li>
            <li><strong>Creation</strong> de la stack Docker d'un projet existant.</li>
        </ul>

        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#initstack" aria-controls="initstack" role="tab" data-toggle="tab">Démarrer de rien</a>
            </li>
            <li role="presentation">
                <a href="#createstack" aria-controls="createstack" role="tab" data-toggle="tab">Démarrer d'un projet existant</a>
            </li>
        </ul>

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="initstack">
                <h3><i class="fa fa-play" aria-hidden="true"></i> Init<small>ialisation</small></h3>
                <p>C'est l'installation en partant de zéro. Vous devez utiliser cela quand vous n'avez pas encore de projet, que vous voulez installer eZ Platform.
</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez init</code></pre>
    </div>


                <p>eZ Launchpad va vous accompagner dans la création avec quelques questions.</p>
                <div class="alert alert-info" role="alert">
                    <p>
                        <i class="fa fa-apple" aria-hidden="true"></i> Les utilisateurs de Mac OS X auront des questions spéciales pour installer <a href='#d4m' class='alert-link'>D4M</a>.
                    </p>
                </div>
                <p>A la fin de la procédure, cette étape auront été fait pour vous:</p>
                <ul>
                    <li>Configuration locale du projet.</li>
                    <li>Téléchargement(pull) des bonnes images Docker sur votre local démon Docker.</li>
                    <li>Installer un <em>docker-compose.yml</em> adapté pour eZ.</li>
                    <li>Créer et démarrer les containers requis.(En fonction des choix effectués)</li>
                    <li>Installation de Composer dans le container Engine.(la où PHP est éxécuté sur la stack)</li>
                    <li>Installation d'eZ Platform avec Composer dans la stack.</li>
                </ul>

                <p>Une fois l'initialisation terminée, le projet est prêt, vous pouvez vérifier en faisant:</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez ps</code></pre>
    </div>



                <p>Vous êtes désormais prêt a exporter la base de données et le storage, commiter and publier votre projet vers votre équipe.</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez dumpdata; git init; git add .; git commit -m &quot;First Initial Commit&quot;</code></pre>
    </div>

                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>git remote add origin https://gitorigin.com/xxx/xxxx-xxx.git; git push -u origin master</code></pre>
    </div>


                <h4><i class="fa fa-building" aria-hidden="true"></i> eZ Platform Enterprise</h4>
                <p>Si vous voulez utiliser la version entreprise ou une version non stable vous avez le choix! Regardez l'aide. Voici un exemple:
</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez init ezsystems/ezplatform-ee v1.9.0-rc1</code></pre>
    </div>

                <p>Quand eZ Launchpad vous demander les autorisations HTTP-BASIC alors il vous faudra fournir <a href="https://doc.ez.no/display/TECHDOC/Using+Composer" target="_blank">la clef d'installation et le jeton</a>.
</p>

            </div>
            <div role="tabpanel" class="tab-pane" id="createstack">
                <h3>
                    <i class="fa fa-fast-forward" aria-hidden="true"></i> Creation
                </h3>
                <p>Dans ce context vous avez déjà un projet quelque part, quelqu'un a déjà fait un <em>~/ez init</em></p>
                <p>Donc vous avez probablement déjà fait</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>git clone https://SOMETHING.git</code></pre>
    </div>


                <p>Si vous voulez savoir si votre projet est prêt pour eZ Launchpad vous pouvez vérifier l'existence de <em>.ezlaunchpad.yml</em> à la racine du projet.
</p>
                <p>Pour créeer la stack locale la commande est alors</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez create</code></pre>
    </div>

                <p>eZ Launchpad va juste télécharger les images, créer les containers puis importer la base et le storage.</p>
            </div>
        </div>
    </div>

    <h2 id="deploy"><i class="fa fa-th-list" aria-hidden="true"></i> Déploiement</h2>
    <div>
        <p>eZ Launchpad peut également vous aider à deployer. Même si c'est optionnel et que vous pouvez déployer comme bon vous semble, nous voulions vous simplifier la tâche.
</p>
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#deploy-psh" aria-controls="deploy-psh" role="tab" data-toggle="tab">Platform.sh</a>
            </li>
            <li role="presentation">
                <a href="#deploy-aws" aria-controls="deploy-aws" role="tab" data-toggle="tab">AWS<small>(@todo)</small></a>
            </li>
        </ul>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="deploy-psh">
                <h3>Configuration</h3>
                <p><a href="https://platform.sh/product">Platform.sh</a> est une PaaS (<strong>P</strong>latform <strong>a</strong>s <strong>a</strong> <strong>S</strong>ervice)<br /> Avec Platform.sh il n'y a pas vraiment de processus de déploiement manuel. Platform.sh va simplement créer et synchroniser les environments selon le repository git!
</p>
                <p>eZ Launchpad va vous permettre de configurer le projet pour fonctionner avec Platform.sh.
</p>

                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez platformsh:setup</code></pre>
    </div>

                <p>Cette commande va créer et générer les fichiers requis par Platform.sh. Comme eZ Launchpad connait votre projet et vos services il va adapter les fichiers de configuration Platform.sh
</p>
                <p>Voici la liste des fichier qui vont être créés.</p>
                <div class="highlight">
                    <pre><code>.platform/services.yaml
.platform/routes.yaml
.platform.app.yaml
ezplatform/app/config/env/platformsh.php</code></pre>
                </div>
                <p>Vous aurez besoin d'initialiser la base de données et le storage sur Platform.sh (la première fois), eZ Launchpad va donc aussi créer un dump.</p>

                <h3>Deploiement</h3>
                <p>Comment déjà mentionné, il n'y a pas vraiment de processus de déploiement, cette command va juste afficher de la documentation.
</p>
                    <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez platformsh:deploy</code></pre>
    </div>

            </div>
            <div role="tabpanel" class="tab-pane" id="deploy-aws">
                <p>Bientôt disponible...</p>
            </div>
        </div>
    </div>

    <h2 id="stack"><i class="fa fa-th-list" aria-hidden="true"></i> Stack</h2>
    <div>
        <p>N'importe quand vous pouvez avoir de l'information sur votre stack</p>
            <div class="highlight">
        <button class="to-clipboard">
            <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
        </button>
        <pre>$ <code>~/ez info</code></pre>
    </div>

        <p>Selon l'initialisation éffectuée vous aurez plus ou moins de service disponible. Voici par défaut.</p>

        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#lempstack" aria-controls="lempstack" role="tab" data-toggle="tab">LEMP</a></li>
            <li role="presentation">
                <a href="#lampstack" aria-controls="lampstack" role="tab" data-toggle="tab">LAMP
                    <small>(@todo?)</small>
                </a></li>
        </ul>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="lempstack">
                <h3>LEMP: Linux Nginx Mysql/MariaDB PHP-FPM</h3>
                <img src="images/puml/LEMP_architecture.png" class="img-responsive"/>

            </div>
            <div role="tabpanel" class="tab-pane" id="lampstack">
                <h3>LAMP: Linux Apache Mysql/MariaDB PHP(mod_php)</h3>
                <img src="images/puml/LAMP_architecture.png" class="img-responsive"/>
            </div>
        </div>
    </div>

    <h2 id="commands"><i class="fa fa-terminal" aria-hidden="true"></i> Commandes</h2>
    <div>
        <p>eZ Launchpad est fait pour vous aider avec Docker.</p>
        <p>Pour le faire, vouci les commandes disponibles:</p>
        <div class="highlight">
            <pre>$ ~/ez
                <code>
Usage:
  command [options] [arguments]

Available commands:
  help               Displays help for a command
  list               Lists commands
  rollback           Rollback an update.
  self-update        Self Update
 docker
  docker:build       [build] Build all the services (or just one).
  docker:clean       [docker:down|clean|down] Clean all the services.
  docker:comprun     [comprun] Run Composer command in the engine.
  docker:create      [create] Create all the services.
  docker:dumpdata    [dumpdata] Dump Database and Storage.
  docker:enter       [enter|docker:exec|exec] Enter in a container.
  docker:importdata  [importdata] Import Database and Storage.
  docker:initialize  [docker:init|initialize|init] Initialize the project and all the services.
  docker:logs        [logs|log] Display the logs.
  docker:sfrun       [sfrun] Run a Symfony command in the engine.
  docker:start       [start] Start all the services (or just one).
  docker:status      [docker:ps|docker:info|ps|info] Obtaining the project information.
  docker:stop        [stop] Stop all the services (or just one).
  docker:up          [up] Up all the services (or just one).
 platformsh
  platformsh:deploy  [psh:deploy] Deploy with Platformsh integration.
  platformsh:setup   [psh:setup] Set up the Platformsh integration.</code></pre>
        </div>


    </div>
    <h2 id="home"><i class="fa fa-home" aria-hidden="true"></i> Configurations globales</h2>
    <div>
        <p>Parce que vous voulez pouvoir partager certaines configurations entre vos projets. eZ Launchpad lit un fichier de configuration dans votre HOME.
</p>
        <p>Ce fichier de configuration est <em>~/ezlaunchpad/ez.yml</em>. Voici un exemple:
</p>
        <div class="highlight">
            <button class="to-clipboard">
                <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
            </button>
            <pre><code>docker:
    host_machine_mapping: "/Users/bob/MyProjects:/data/MYPROJECTS"
    host_composer_cache_dir: "/data/MYPROJECTS/.composer_cache"

provisioning:
    folder_name: "myprovisioningfoldername"

composer:
    http_basic:
        hostname:
            host: www.hostname.com
            login: login
            password: pass
    token:
        github:
            host: github.com
            value: tokenvalue</code></pre>
        </div>

        <p>Notez que la configuarion est globale et ne sera pas incluse dans le projet. (i.e dans le repository de source). Mais elle sera utilisé dans votre stack Docker locale.
</p>
        <p>La section <em>docker</em> est décrite dans la prochaine section.</p>

    </div>
    <h2 id="d4m"><i class="fa fa-space-shuttle" aria-hidden="true"></i> Mac OS X optimisations avec D4M</h2>
    <div>
        <p>Pour partager des répertoires entre l'hôte(votre Mac) vers les containers <em>Docker for Mac</em> est très lent.(au moins pour le moment). Donc pour contourner ce problème de performance, <strong>il y a une technique</strong>.
</p>
        <p>Cette technique s'appelle <a href="https://github.com/IFSight/d4m-nfs">D4M</a>. Sans trop rentrer dans les détails, D4M utilise la MobbyVM qui fait touner le démon Docker du Mac et monte les répertoires via NFS.
</p>
        <p>Note: C'est étrange en effet, mais oui NFS est bien plus rapide que le montage par défaut!</p>
        <p>Vous avez deux manières de configurer D4M:</p>
        <ul>
            <li>de manière transparente: alors il n'y a pas de configuration spéciale pour eZ Launchpad</li>
            <li>en limitant le répertoire exporté: Dans ce cas vous devez avertir eZ Launchpad</li>
        </ul>

        <p>Si vous n'etes pas en mode transparent, disons que vous avez exporté</p>

        <div class="highlight">
            <button class="to-clipboard">
                <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
            </button>
            <pre><code># /etc/exports
/Users/bob/MyProjects -mapall=bob:staff localhost
            </code></pre>
        </div>

        <p>Et donc vous avez monté ce répertoire dans <em>/data/MYPROJECTS</em> de la MobyVM (through D4M). Alors vous devez ajouter cette configuration pour eZ Launchpad
</p>
        <div class="highlight">
            <button class="to-clipboard">
                <i class="fa fa-clipboard" aria-hidden="true"></i> Copier
            </button>
            <pre><code># ~/.ezlaunchpad/ez.yml
docker:
    host_machine_mapping: "/Users/bob/MyProjects:/data/MYPROJECTS"
    host_composer_cache_dir: "/data/MYPROJECTS/.composer_cache"
            </code></pre>
        </div>
        <p><em>host_composer_cache_dir</em> permettra lui de partager le cache Composer entre vos projets.
</p>
    </div>

    </div>

    <footer>
        <div class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <img src="https://www.ezplatform.com/assets/images/ez-logo-white.svg" alt="eZ Systems" class="logo">
            </div>

            <div class="col-md-3">
                <div class="ezrichtext-field">
                    <ul>
                        <li><a href="http://ez.no">eZ.no</a></li>
                        <li>
                            <a href="http://ez.no/About-eZ/Company-Overview" target="_blank">Présentation de l&#039;entreprise</a>
                        </li>
                        <li><a href="http://ez.no/Products">Produits</a></li>
                    </ul>
                </div>

            </div>

            <div class="col-md-3">
                <div class="ezrichtext-field">
                    <ul>
                        <li>
                            <a href="http://doc.ez.no/display/DEVELOPER/Documentation">Documentation</a>
                        </li>
                        <li>
                            <a href="https://doc.ez.no/display/DEVELOPER/eZ+Platform+Public+PHP+API" target="_blank">API</a>
                        </li>
                        <li><a href="http://share.ez.no" target="_blank">eZ Publish</a></li>
                    </ul>
                </div>

            </div>

            <div class="col-md-3 footer-social text-center">
                <h4>Suivez nous sur les réseaux sociaux</h4>

                <a href="//www.youtube.com/user/ezpublish/" target="_blank">
                    <i class="fa fa-youtube fa"></i>
                </a>
                <a href="//google.com/+ezsystems" target="_blank">
                    <i class="fa fa-google-plus fa"></i>
                </a>
                <a href="//www.linkedin.com/company/16738" target="_blank">
                    <i class="fa fa-linkedin fa"></i>
                </a>
                <a href="//www.facebook.com/eZPublishEnterprise" target="_blank">
                    <i class="fa fa-facebook fa"></i>
                </a>
                <a href="//twitter.com/#!/ezsystems" target="_blank">
                    <i class="fa fa-twitter fa"></i>
                </a>
            </div>
        </div>
    </div>
</div>

<div class="copyright-content">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <p>Copyright © 1999-2017 eZ Systems AS. Tous droits réservés.</p>
                <p>Propulsé par <a href="//ezplatform.com" title="eZ Platform">eZ Platform</a></p>
            </div>
        </div>
    </div>
</div>
    </footer>
</main>
<script type="text/javascript" src="https://www.ezplatform.com/js/80021c6.js"></script>
<script src="js/clipboard.min.js"></script>
<script src="js/ezlaunchpad.js"></script>
</body>
</html>
